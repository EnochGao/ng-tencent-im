<div>
  <app-group-member-list [currentConversation]="currentConversation"></app-group-member-list>

  <div class="group-info-content">
    <div class="info-item">
      <div class="label">群ID</div>
      <div class="content">{{ groupProfile.groupID }}</div>
    </div>

    <div class="info-item">
      <div class="label">
        群头像
        <i nz-icon nzType="edit" nzTheme="outline" *ngIf="editable" (click)="showEditFaceUrl = true"
          class="edit"></i>
      </div>
      <div class="content" *ngIf="!showEditFaceUrl">
        <app-avatar [src]="groupProfile.avatar"></app-avatar>
      </div>
      <!-- <el-input ref="editFaceUrl" v-else autofocus v-model="avatar" size="mini"
        @blur="showEditFaceUrl = false" @keydown.enter.native="editFaceUrl" /> -->
    </div>

    <div class="info-item">
      <div class="label">群类型</div>
      <div class="content">{{ groupType}}</div>
    </div>
    <div class="info-item">
      <div class="label">
        群名称
        <i nz-icon nzType="edit" nzTheme="outline" *ngIf="editable" (click)="
          showEditName = true;" class="edit"></i>
      </div>

      <div class="content text-ellipsis" [title]="groupProfile.name" *ngIf="!showEditName">
        {{ groupProfile.name || '暂无' }}
      </div>
      <!-- <el-input ref="editName" v-else autofocus v-model="name" size="mini"
        @blur="showEditName = false" @keydown.enter.native="editName" /> -->
    </div>

    <div class="info-item">
      <div class="label">
        群介绍
        <i nz-icon nzType="edit" nzTheme="outline" *ngIf="editable" (click)="
          showEditIntroduction = true;" class="edit"></i>
      </div>
      <div class="long-content" [title]="groupProfile.introduction" *ngIf="!showEditIntroduction">
        {{ groupProfile.introduction || '暂无' }}
      </div>
      <!-- <el-input ref="editIntroduction" v-else autofocus v-model="introduction" size="mini"
        @blur="showEditIntroduction = false" @keydown.enter.native="editIntroduction" /> -->
    </div>
    <div class="info-item">
      <div class="label">
        群公告
        <i nz-icon nzType="edit" nzTheme="outline" *ngIf="editable" (click)="
          showEditNotification = true;
        " class="edit"></i>
      </div>
      <div class="long-content" [title]="groupProfile.notification" *ngIf="!showEditNotification">
        {{ groupProfile.notification || '暂无' }}
      </div>

      <!-- <el-input ref="editNotification" v-else autofocus v-model="notification" size="mini"
        @blur="showEditNotification = false" @keydown.enter.native="editNotification" /> -->
    </div>
    <div class="info-item" *ngIf="groupProfile.type !== 'Private'">
      <div class="label">
        申请加群方式
        <i nz-icon nzType="edit" *ngIf="editable" (click)="
          showEditJoinOption = true;
        " class="edit"></i>
      </div>
      <div class="content" *ngIf="!showEditJoinOption">{{ joinOptionMap[groupProfile.joinOption] }}
      </div>
      <!-- <el-select ref="editJoinOption" v-model="joinOption" v-show="showEditJoinOption" size="mini"
        automatic-dropdown @blur="showEditJoinOption = false" @change="editJoinOption">
        <el-option label="自由加入" value="FreeAccess"></el-option>
        <el-option label="需要验证" value="NeedPermission"></el-option>
        <el-option label="禁止加群" value="DisableApply"></el-option>
      </el-select> -->
    </div>
    <div class="info-item">
      <div class="label">
        群消息提示类型
        <i nz-icon nzType="edit" *ngIf="editable" (click)="
          showEditMessageRemindType = true;
        " class="edit"></i>
      </div>
      <div class="content" *ngIf="!showEditMessageRemindType">
        {{ messageRemindTypeMap[this.groupProfile.selfInfo.messageRemindType] }}
      </div>
      <!-- <el-select ref="editMessageRemindType" v-show="showEditMessageRemindType"
        v-model="messageRemindType" size="mini" automatic-dropdown @change="editMessageRemindType"
        @blur="showEditMessageRemindType = false">
        <el-option label="接收消息并提示" value="AcceptAndNotify"></el-option>
        <el-option label="接收消息但不提示" value="AcceptNotNotify"></el-option>
        <el-option label="屏蔽消息" value="Discard"></el-option>
      </el-select> -->
    </div>

    <div class="info-item">
      <div class="label">
        我的群名片
        <i nz-icon nzType="edit" (click)="
            showEditNameCard = true
          " class="edit"></i>
      </div>
      <div class="content cursor-pointer" *ngIf="!showEditNameCard">
        {{ groupProfile.selfInfo.nameCard || '暂无' }}
      </div>
      <!-- <el-input ref="editNameCard" v-else autofocus v-model="nameCard" size="mini"
        @blur="showEditNameCard = false" @keydown.enter.native="editNameCard" /> -->
    </div>

    <div class="info-item">
      <div class="label" [ngClass]="{'active' : active}">全体禁言</div>
      <nz-switch [(ngModel)]="muteAllMembers" (ngModelChange)="changeMuteStatus()">
      </nz-switch>
    </div>
    <div *ngIf="isOwner">
      <a type="text" (click)="showChangeGroupOwner = true">转让群组</a>
      <input *ngIf="showChangeGroupOwner" [(ngModel)]="newOwnerUserID" placeholder="新群主的userID"
        size="mini" (blur)="showChangeGroupOwner = false" (keydown.enter)="changeOwner()" />
    </div>
    <div>
      <a style="color:red;" (click)="quitGroup()">退出群组</a>
    </div>
    <div *ngIf="showDissmissGroup">
      <a type="text" style="color:red;" (click)="dismissGroup()">解散群组</a>
    </div>

  </div>

</div>
